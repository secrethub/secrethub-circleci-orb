description: >
  Install the SecretHub CLI and inject secrets into your app.
  This solution uses a custom shell that provides secrets to all commands running in it.

usage:
  version: 2.1

  orbs:
    secrethub: secrethub/cli

  jobs:
    build:
      docker:
        - image: your-image
      shell: secrethub run -- /bin/bash
      steps:
        - secrethub/install
        - checkout
        - run: ./your-app

  workflows:
    your-workflow:
      jobs:
        - build
